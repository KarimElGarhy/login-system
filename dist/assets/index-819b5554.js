(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))g(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&g(u)}).observe(document,{childList:!0,subtree:!0});function h(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function g(r){if(r.ep)return;r.ep=!0;const o=h(r);fetch(r.href,o)}})();var d=document.querySelector("#NewUserName"),l=document.querySelector("#NewUserMail"),m=document.querySelector("#newUserPassword"),S=document.querySelector("#signUpBtn"),s=document.querySelector("#notesForSingUp"),y=document.querySelector("#userMail"),L=document.querySelector("#userPassword"),U=document.querySelector("#singInBtn"),a=document.querySelector("#singInNote"),c=document.querySelector("#homeHint"),p=document.querySelector("#logOut");M();var n;function M(){localStorage.users!=null?n=JSON.parse(localStorage.users):n=[]}P();function P(){window.location.pathname=="./home.html"&&(w()?(c.innerHTML=`Hello Mr ${n[i].name} <br> and you mail is ${n[i].mail}`,p.style.display="block",p.addEventListener("click",function(){sessionStorage.clear(),c.innerHTML="You log Out. you will return to sign in page.",setTimeout(function(){window.location.replace("./index.html")},3e3)})):(c.innerHTML="Sorry You Don't have Permission to Enter This site ! You wil return to sing in Page.",setTimeout(function(){window.location.replace("./index.html")},3e3)))}w();var v,i;function w(){return sessionStorage.isLogin?(i=sessionStorage.currentUser,!0):!1}function I(){sessionStorage.setItem("isLogin",v),sessionStorage.setItem("currentUser",i)}function T(){if(n!=[]){for(var t,e=0;e<n.length;e++)if(n[e].mail==y.value&&n[e].password==L.value){t=!0,i=e;break}return!!t}}window.location.pathname=="./index.html"&&U.addEventListener("click",function(){T()?(a.classList.replace("text-red-500","text-green-500"),a.innerHTML="Successfully Sing in",v=!0,I(),setTimeout(function(){window.location.replace("./home.html")},3e3)):(a.classList.replace("text-green-500","text-red-500"),a.innerHTML="Not A user Please Sign Up!")});function N(){var t={name:d.value,password:m.value,mail:l.value};n.push(t)}function x(){localStorage.setItem("users",JSON.stringify(n))}function H(){for(var t,e=0;e<n.length;e++)if(n[e].mail.toLowerCase()==l.value.toLowerCase()){t=!0;break}else t=!1;return!t}function q(t){var e=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;return e.test(t)}function f(t,e){return t.value==""?(s.innerHTML=e,!1):!0}function E(){return!!(f(d,"Please Enter Your Name")&&f(l,"Please Enter Your Mail")&&f(m,"Please Enter You Password"))}function O(){d.value="",m.value="",l.value="",s.innerHTML=""}window.location.pathname=="./signup.html"&&S.addEventListener("click",function(){E()&&(q(l.value)?H()?(N(),x(),O(),s.classList.replace("text-red-600","text-green-500"),s.innerHTML="Thanks For Registration, you will Redirect to Sign In",setTimeout(function(){window.location.replace("./index.html")},3e3)):s.innerHTML="this user Already Exiting":s.innerHTML="Please Enter Valid Mail")});
